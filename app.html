<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>h5-platform</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/component.css">
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <div class="ab header">
  
  </div>
  <div class="ab content">
    <!-- 页面管理区域 -->
    <div class="ab pages-zone">
      <div class="inner">
        <ul>
          <li v-for="(index, page) in pages " track-by="$index"
              @click="updateCurrentPage(index)"
              :class="{active: index == currentPage}">
            <span>页面{{index}}</span>
            <i @click="removePage(index)">x</i>
          </li>
        </ul>
        <div class="btn-wrap">
          <button class="btn" @click="addPage">增加页面</button>          
        </div>
      </div>
    </div>
    <div class="ab edit-zone">
      <div class="edit-area-wrap">
        <div class="edit-area">
          <div class="ab page" 
               v-for="(index, page) in pages" track-by="$index"
               :class="{active: index == currentPage}"
               :style="page.style">
              <component  
                class="hy-comp"
                v-for="(index, item) in page.comps" 
                :is="item.type" 
                :class="item.type"
                v-show="item.isShow"
                :item="item"
                @click="updateActiveComp(item)"
                >
              </component >                 
          </div>
        </div>
      </div>
      <div class="debug-zone" style="position:absolute;left:0; top:10px;">
        <pre>{{pages|json}}</pre>
      </div>
      <div class="dialog-zone" style="position:absolute;right:10px; top:10px;">
          <component 
            v-if="activeComp" 
            :is="activeComp.type + '-edit'" 
            :item="activeComp">
          </component>
      </div>      
    </div>
    <div class="ab tool-zone">
      <div class="item-wrap">
        <div class="item">
          <button class="btn" @click="addTextComponent">添加文字</button>
        </div>     
        <div class="item">
          <button class="btn" @click="addImageComponent">添加图片</button>
        </div>               
      </div>
    </div>
  </div>
<script src="lib/vue.js"></script>
<script src="js/app.js"></script>
</body>
</html>